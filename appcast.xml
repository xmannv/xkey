<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:sparkle="http://www.andymatuschak.org/xml-namespaces/sparkle" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>XKey Updates</title>
    <link>https://xmannv.github.io/xkey/appcast.xml</link>
    <description>XKey - Vietnamese Input Method for macOS</description>
    <language>vi</language>
    <item>
      <title>Version 1.2.5</title>
      <link>https://github.com/xmannv/xkey/releases/tag/v1.2.5</link>
      <sparkle:version>1.2.5</sparkle:version>
      <sparkle:shortVersionString>1.2.5</sparkle:shortVersionString>
      <description><![CDATA[
        <p><h2>What's New</h2></p>
<p>fix: Support non-QWERTY keyboard layouts (Swiss French, AZERTY, etc.)</p>
<p>Previously, XKey only worked correctly with QWERTY keyboard layouts.</p>
<p>When users had Input Sources like Swiss French (QWERTZ) or French (AZERTY),</p>
<p>Vietnamese typing didn't work because the app was using physical keyCodes</p>
<p>instead of the actual characters from the Input Source.</p>
<p>Root cause:</p>
<ul>
<li>KeyboardEventHandler was converting keyCode → character using QWERTY mapping</li>
<li>This ignored the user's actual Input Source settings</li>
<li>Example: Swiss French 'z' key (physical Y position) was treated as 'y'</li>
</ul>
<p>Solution:</p>
<ol>
<li>Get character directly from event.characters (respects Input Source)</li>
<li>Convert character → QWERTY keyCode for engine processing</li>
<li>Added KeyCodeToCharacter.keyCode(forCharacter:) helper function</li>
</ol>
<p>Changes:</p>
<ul>
<li>XKey/EventHandling/KeyboardEventHandler.swift:</li>
</ul>
<p>  * Use event.characters instead of KeyCodeToCharacter.qwertyCharacter()</p>
<p>  * Convert character → engineKeyCode before passing to VNEngine</p>
<p>  * Special keys (arrows, tab, esc, etc.) still use physical keyCode</p>
<ul>
<li>XKey/EventHandling/KeyCodeToCharacter.swift:</li>
</ul>
<p>  * Added keyCode(forCharacter:) function for reverse mapping</p>
<p>  * Supports letters, numbers, and special characters</p>
<p>Testing:</p>
<ul>
<li>Swiss French (QWERTZ): typing 'thuzj' → 'thụy' ✅</li>
<li>French (AZERTY): typing works correctly ✅</li>
<li>US (QWERTY): no change in behavior ✅</li>
<li>Special keys: arrows, tab, backspace all work ✅</li>
</ul>
<p><a href="https://github.com/xmannv/xkey/releases/tag/v1.2.5">Xem chi tiết trên GitHub</a></p>
      ]]></description>
      <pubDate>Sat, 20 Dec 2025 16:28:15 +0000</pubDate>
      <sparkle:minimumSystemVersion>12.0</sparkle:minimumSystemVersion>
      <enclosure url="https://github.com/xmannv/xkey/releases/download/v1.2.5/XKey.dmg" sparkle:version="1.2.5" sparkle:shortVersionString="1.2.5" length="8232612" type="application/octet-stream" sparkle:edSignature="TKvivufxojbwZBLF0Xf+LnKg16c/U0fp7NUq2IhPCFZd08fkkNeYWsH4fLgiPaRJIOYkVOcP+NqOk6tU4O6dDg==" />
    </item>
  </channel>
</rss>